<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="styles.css"/>
</head>
<body>
    <h1 class="title">Rock, Paper, Scissors</h1>
    <div id="buttons">
        <button id="paper"><img src="images/paper.jpg" alt="Paper"></button>
        <button id="rock"><img src="images/rock.jpg" alt="Rock"></button>
        <button id="scissors"><img src="images/scissors.jpg" alt="Scissors"></button>
    </div>

    <p id="roundresult"></p>
    <h1 id="gameover"></h1>
    <div class="container">
        <a id="restart" style="display: none;" href="index.html">New Game</a>
    </div>
    <div id="gifs">
        <img id="win" src="images/win.gif" alt="Congratulations" style="display: none;">
        <img id="loss" src="images/lose.gif" alt="You Lost" style="display: none;">
    </div>
</body>
<script>
    const buttons = document.querySelectorAll('button');
    const round = document.querySelector('#roundresult');
    const gameover = document.querySelector('#gameover');
    const restart = document.querySelector('#restart');
    const win = document.querySelector('#win');
    const loss = document.querySelector('#loss');

    let choices = ["paper", "rock", "scissors"];


    buttons.forEach((button) => {
        button.addEventListener('click', () => {
            playerChoice = button.id;
            randomNum = Math.floor(Math.random() * 3);
            computerChoice = choices[randomNum];
            compare(playerChoice,computerChoice);


            if (x == 5) {
                gameover.textContent = "You Win!! Congratulations!!" + " Your score is: " + x + " computer score is: " + y;
                gameover.style.backgroundColor = 'green';
                const btn = document.getElementById('buttons');
                btn.remove();
                round.remove();
                restart.style.display = "block";
                win.style.display = "flex";

            } else if (y == 5) {
                gameover.textContent = "You Lose!! Better Luck Next Time." + " Your score is: " + x + " computer score is: " + y;
                gameover.style.backgroundColor = 'red';
                const btn = document.getElementById('buttons');
                btn.remove();
                round.remove();
                restart.style.display = "block";
                loss.style.display = "flex";

            }
        })
    });

    var x = 0;
    var y = 0;

    function compare(playerChoice, computerChoice) {
        const outcomes = {
            rock: { beats: 'scissors', losesTo: 'paper' },
            paper: { beats: 'rock', losesTo: 'scissors' },
            scissors: { beats: 'paper', losesTo: 'rock' }
        };

        let result = document.createElement('p');
        result.classList.add('result');

        let myScore = document.createElement('p');
        myScore.classList.add('myScore');

        let hisScore = document.createElement('p');
        hisScore.classList.add('hisScore');

        if (playerChoice === computerChoice) {
            result.textContent = "It's a Tie!";
            myScore.textContent = `Your score: ${x}` ;
            hisScore.textContent = `Computer score: ${y}`;

        } else if (outcomes[playerChoice].beats === computerChoice) {
            x++;
            result.textContent = `You Win! ${playerChoice} beats ${computerChoice}`;
            myScore.textContent = `Your score : ${x}`;
            hisScore.textContent = `computer score is: ${y}`;

        } else {
            y++;
            result.textContent = `You Lose! ${computerChoice} beats ${playerChoice}`;
            myScore.textContent = `your score is: ${x}`;
            hisScore.textContent = `Computer score is: ${y}`;
        }

        document.getElementById('roundresult').appendChild(result);
        document.getElementById('roundresult').appendChild(myScore);
        document.getElementById('roundresult').appendChild(hisScore);

        document.querySelector('.myScore').textContent = `Your score: ${x}`;
        document.querySelector('.hisScore').textContent = `Computer score: ${y}`;
    }




</script>
</html>